{"version":3,"sources":["test_decorator.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","chai_1","require","lib_1","describe","it","expect","after","decorator","to","not","be","an","a","Class","Error","Function","Number","prototype","method","error","name","eq","message","Boolean","undefined","n"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:max-classes-per-file */\nconst chai_1 = require(\"chai\");\nconst lib_1 = require(\"../lib\");\nrequire(\"mocha\");\ndescribe(\"after.decorator\", () => {\n    it(\"should exist\", () => {\n        chai_1.expect(lib_1.after.decorator).to.not.be.an(\"undefined\");\n    });\n    it(\"should be a function\", () => {\n        chai_1.expect(lib_1.after.decorator).to.be.a(\"function\");\n    });\n});\ndescribe(\"after.decorator\", () => {\n    it(\"should be invoked afterwards\", () => {\n        class Class {\n            method() {\n                return 0;\n            }\n        }\n        __decorate([\n            lib_1.after.decorator((value) => {\n                throw new Error(`${value}`);\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", Number)\n        ], Class.prototype, \"method\", null);\n        try {\n            new Class().method();\n        }\n        catch (error) {\n            chai_1.expect(error.name).to.eq(\"Error\");\n            chai_1.expect(error.message).to.eq(\"0\");\n        }\n    });\n    it(\"should receive arguments\", () => {\n        class Class {\n            method() {\n                return true;\n            }\n        }\n        __decorate([\n            lib_1.after.decorator((value) => {\n                chai_1.expect(value).to.eq(true);\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", Boolean)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method()).to.eq(undefined);\n    });\n    it(\"should return a result\", () => {\n        class Class {\n            method() {\n                return 1;\n            }\n        }\n        __decorate([\n            lib_1.after.decorator((n) => {\n                return `${n + 1}`;\n            }),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", Number)\n        ], Class.prototype, \"method\", null);\n        chai_1.expect(new Class().method()).to.eq(\"2\");\n    });\n});\n"],"file":"test_decorator.js"}